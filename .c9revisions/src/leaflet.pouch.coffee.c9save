{"ts":1353417778751,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1353419277845,"patch":[[{"diffs":[[1,"L.GeoJSON.Pouch = L.GeoJSON.extend(\r\n\tdefaultParams:\r\n\t\tcontinuous: true\r\n\r\n\tinitialize: (db, remoteDB, opts) ->\r\n\t\tif typeof remoteDB is \"object\"\r\n\t\t\topts = remoteDB\r\n\t\t\tremoteDB = undefined\r\n\t\t\r\n)"]],"start1":0,"start2":0,"length1":0,"length2":198}]],"length":198,"saved":false}
{"ts":1353421145877,"patch":[[{"diffs":[[1,"pass = ()->true\r\n"],[0,"L.GeoJSON.Pouch "]],"start1":0,"start2":0,"length1":16,"length2":33},{"diffs":[[0,"ined\r\n\t\t"],[1,"Pouch db, (e1, db1) =>\r\n\t\t\tunless e1\r\n\t\t\t\t@localDB = db1\r\n\t\t\t\t@localDB.changes(\r\n\t\t\t\t\tcontinuous : @defaultParams.continuous\r\n\t\t\t\t\tinclude_docs : true\r\n\t\t\t\t\tonChange : (c) ->\r\n\t\t\t\t\t\tdoc = c.doc\r\n\t\t\t\t\t\tif doc._rev.slice(0, 1) is 1\r\n\t\t\t\t\t\t\t@addData doc\r\n\t\t\t\t\t\telse if doc._rev.slice(0, 1) > 1\r\n\t\t\t\t\t\t\t@eachLayer (f) ->\r\n\t\t\t\t\t\t\t\t@removeLayer f  if f.feature._id is doc._id\r\n\r\n\t\t\t\t\t\t\t@addData doc  unless doc._deleted\t\t\t\t\t\r\n\t\t\t\t)\r\n\t\t\t\tif remoteDB\r\n\t\t\t\t\tPouch remoteDB (e2, db2) =>\r\n\t\t\t\t\t\tunless e2\r\n\t\t\t\t\t\t\t@remoteDB = db2\r\n\t\t\t\t\t\t\t@localDB.replicate.from @remoteDB, \r\n\t\t\t\t\t\t\t\tcontinuous : @defaultParams.continuous"],[0,"\r\n)"]],"start1":204,"start2":204,"length1":11,"length2":620}]],"length":824,"saved":false}
{"ts":1353421233513,"patch":[[{"diffs":[[-1,"pass = ()->true\r\n"],[0,"L.Ge"]],"start1":0,"start2":0,"length1":21,"length2":4},{"diffs":[[0,"tParams:"],[-1,"\r\n\t\t"],[1," "],[0,"continuo"]],"start1":44,"start2":44,"length1":20,"length2":17}]],"length":804,"saved":false}
{"ts":1353421384308,"patch":[[{"diffs":[[1,"pass = ()-> true\r\n"],[0,"L.GeoJSON.Pouch "]],"start1":0,"start2":0,"length1":16,"length2":34},{"diffs":[[0,"inuous\r\n"],[1,"\taddDoc: (doc, cb) ->\r\n\t\t@localDB.post post, cb or pass\r\n"],[0,")"]],"start1":813,"start2":813,"length1":9,"length2":66}]],"length":879,"saved":false}
{"ts":1353423094250,"patch":[[{"diffs":[[0,"DB.post "],[-1,"post"],[1,"doc"],[0,", cb or "]],"start1":852,"start2":852,"length1":20,"length2":19}]],"length":878,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353440635185,"patch":[[{"diffs":[[-1,"pass = ()-> true\r\n"],[0,"L.Ge"]],"start1":0,"start2":0,"length1":22,"length2":4},{"diffs":[[0,"tParams:"],[-1," "],[1,"\r\n\t\t"],[0,"continuo"]],"start1":44,"start2":44,"length1":17,"length2":20},{"diffs":[[0,"s: true\r"],[1,"\n\t\tdirection: \"from\"\r"],[0,"\n\r\n\tinit"]],"start1":65,"start2":65,"length1":16,"length2":37},{"diffs":[[0,"efined\r\n"],[1,"\t\t@_layers = {}\r\n\t\tpouchParams = L.Util.extend({}, @defaultAJAXparams)\r\n\t\tfor i of opts\r\n\t\t\tpouchParams[i] = opts[i]  if @pouchParams.hasOwnProperty(i)\r\n\t\t@pouchParams = pouchParams\r\n\t\tL.Util.setOptions @, opts\r\n"],[0,"\t\tPouch "]],"start1":206,"start2":206,"length1":16,"length2":228},{"diffs":[[0,"\t\tcontinuous : @"],[-1,"default"],[1,"pouch"],[0,"Params.continuou"]],"start1":512,"start2":512,"length1":39,"length2":37},{"diffs":[[0,"e : (c) "],[-1,"-"],[1,"="],[0,">\r\n\t\t\t\t\t"]],"start1":590,"start2":590,"length1":17,"length2":17},{"diffs":[[0,"\t\t\t\t\tif "],[1,"parseInt("],[0,"doc._rev"]],"start1":622,"start2":622,"length1":16,"length2":25},{"diffs":[[0,"ce(0, 1)"],[1,")"],[0," is 1\r\n\t"]],"start1":651,"start2":651,"length1":16,"length2":17},{"diffs":[[0,"else if "],[1,"parseInt("],[0,"doc._rev"]],"start1":694,"start2":694,"length1":16,"length2":25},{"diffs":[[0,"ce(0, 1)"],[1,")"],[0," > 1\r\n\t\t"]],"start1":723,"start2":723,"length1":16,"length2":17},{"diffs":[[0,"yer (f) "],[-1,"-"],[1,"="],[0,">\r\n\t\t\t\t\t"]],"start1":752,"start2":752,"length1":17,"length2":17},{"diffs":[[0,"_deleted"],[1,"\r\n"],[0,"\t\t\t\t\t"],[1,"\ttrue\t\t\t"],[0,"\r\n\t\t\t\t)\r"]],"start1":851,"start2":851,"length1":21,"length2":31},{"diffs":[[0,"remoteDB"],[1,","],[0," (e2, db"]],"start1":911,"start2":911,"length1":16,"length2":17},{"diffs":[[0,"db2\r\n\t\t\t\t\t\t\t"],[1,"options = continuous : @pouchParams.continuous\r\n\t\t\t\t\t\t\tswitch @pouchParams.direction\r\n\t\t\t\t\t\t\t\twhen \"from\" then "],[0,"@localDB.rep"]],"start1":971,"start2":971,"length1":24,"length2":135},{"diffs":[[0,"moteDB, "],[1,"options"],[0,"\r\n\t\t\t\t\t\t"]],"start1":1121,"start2":1121,"length1":16,"length2":23},{"diffs":[[0,"\t\t\t\t"],[-1,"continuous : @defaultParams.continuous\r\n\taddDoc: (doc, cb) ->\r\n\t\t@localDB.post doc, cb or pass\r\n"],[1,"when \"to\" then @localDB.replicate.to @remoteDB, options\r\n\t\t\t\t\t\t\t\twhen \"both\"\r\n\t\t\t\t\t\t\t\t\t@localDB.replicate.from @remoteDB, options\r\n\t\t\t\t\t\t\t\t\t@localDB.replicate.to @remoteDB, options\r\n\t\t\t\t\t\t\t\telse console.log(\"you sure about that?\")\r\n\t\t\t\t\t\t\t\t\t\t\r\n\taddDoc: (doc, cb) ->\r\n\t\t@localDB.post doc, cb or ()-> true\r\n\t\r\n\tdeleteDoc: (id) ->\r\n\t\t@localDB.get id, (err, doc) =>\r\n\t\t\t@localDB.remove doc, ()-> true unless err\r\n\t\t\r\n)\r\nL.geojson.pouch = (db, remoteDB, opts)->\r\n\tnew L.GeoJSON.Pouch(db, remoteDB, opts"],[0,")"]],"start1":1142,"start2":1142,"length1":101,"length2":502}]],"length":1644,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353502485574,"patch":[[{"diffs":[[0,"\r\n\t\t"],[-1,"@localDB.post doc, cb or ()-> true"],[1,"if \"type\" of doc and doc.type == \"Feature\"\r\n\t\t\t@localDB.post doc, cb or ()-> true unless \"_id\" of doc\r\n\t\t\t@localDB.put doc, cb or ()-> true if \"_id\" of doc\r\n\t\telse if \"type\" of doc and doc.type == \"FeatureCollection\"\r\n\t\t\t@localDB.bulkDocs doc.features, cb or ()-> true\r\n\t\telse if doc.length\r\n\t\t\t@localDB.bulkDocs doc, cb or ()-> true\r\n\t\t"],[0,"\r\n\t\r"]],"start1":1411,"start2":1411,"length1":42,"length2":345}]],"length":1947,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353676862756,"patch":[[{"diffs":[[0," = db2\r\n"],[1,"\t\t\t\t\t\t\t@sync = (cb) ->\r\n\t"],[0,"\t\t\t\t\t\t\to"]],"start1":968,"start2":968,"length1":16,"length2":41},{"diffs":[[0,"\n\t\t\t\t\t\t\t"],[1,"\t"],[0,"switch @"]],"start1":1055,"start2":1055,"length1":16,"length2":17},{"diffs":[[0,"ection\r\n"],[1,"\t"],[0,"\t\t\t\t\t\t\t\t"]],"start1":1087,"start2":1087,"length1":16,"length2":17},{"diffs":[[0," \"from\" then"],[1," @_from ="],[0," @localDB.re"]],"start1":1108,"start2":1108,"length1":24,"length2":33},{"diffs":[[0,"ns\r\n\t\t\t\t\t\t\t\t"],[1,"\t"],[0,"when \"to\" th"]],"start1":1170,"start2":1170,"length1":24,"length2":25},{"diffs":[[0,"to\" then"],[1," @_to ="],[0," @localD"]],"start1":1189,"start2":1189,"length1":16,"length2":23},{"diffs":[[0,"ns\r\n\t\t\t\t\t\t\t\t"],[1,"\t"],[0,"when \"both\"\r"]],"start1":1243,"start2":1243,"length1":24,"length2":25},{"diffs":[[0,"both\"\r\n\t\t\t\t\t\t\t\t\t"],[1,"\t@_from = "],[0,"@localDB.replica"]],"start1":1262,"start2":1262,"length1":32,"length2":42},{"diffs":[[0,"s\r\n\t\t\t\t\t\t\t\t\t"],[1,"\t@_to = "],[0,"@localDB.rep"]],"start1":1329,"start2":1329,"length1":24,"length2":32},{"diffs":[[0,"\t\t\t\t"],[1,"\t"],[0,"else "],[-1,"console.log(\"you sure about that?\")"],[1,"noOpt = true\r\n\t\t\t\t\t\t\t\tcb(null, true) unless noOpt\r\n\t\t\t\t\t\t\t\tcb(\"No Option\") if noOpt"],[0,"\r\n\t\t"]],"start1":1395,"start2":1395,"length1":48,"length2":97},{"diffs":[[0,"Doc: (id"],[1,", cb"],[0,") ->\r\n\t\t"]],"start1":1876,"start2":1876,"length1":16,"length2":20},{"diffs":[[0,"oc, "],[-1,"()-> true unless err\r\n\t"],[1,"cb unless err\r\n\t\t\tcb(\"err\") if err\r\n\r\n\tcancel: (cb) ->\r\n\t\tswitch @pouchParams.direction\r\n\t\t\twhen \"from\" then @_from.cancel()\r\n\t\t\twhen \"to\" then @_to.cancel()\r\n\t\t\twhen \"both\"\r\n\t\t\t\t@_from.cancel()\r\n\t\t\t\t@_to.cancel()\r\n\t\tcb(null, true)\r\n"],[0,"\t\r\n)"]],"start1":1948,"start2":1948,"length1":31,"length2":241}]],"length":2273,"saved":false}
{"ts":1353676987015,"patch":[[{"diffs":[[0,")\r\nL.geo"],[-1,"j"],[1,"J"],[0,"son.pouc"]],"start1":2188,"start2":2188,"length1":17,"length2":17}]],"length":2273,"saved":false}
{"ts":1353677397759,"patch":[[{"diffs":[[0,"ault"],[-1,"AJAXp"],[1,"P"],[0,"aram"]],"start1":269,"start2":269,"length1":13,"length2":9}]],"length":2269,"saved":false}
{"ts":1353677566734,"patch":[[{"diffs":[[0,"Opt = true\r\n"],[1,"\t\t\t\t\t\t\t\tif cb\r\n\t"],[0,"\t\t\t\t\t\t\t\tcb(n"]],"start1":1403,"start2":1403,"length1":24,"length2":40},{"diffs":[[0,") unless noOpt\r\n"],[1,"\t"],[0,"\t\t\t\t\t\t\t\tcb(\"No O"]],"start1":1452,"start2":1452,"length1":32,"length2":33}]],"length":2286,"saved":false}
{"ts":1353677650655,"patch":[[{"diffs":[[0,"\n\t\t\t\t\t\t\t"],[-1,"\t\t"],[1,"sync()"],[0,"\t\r\n\taddD"]],"start1":1502,"start2":1502,"length1":18,"length2":22}]],"length":2290,"saved":false}
{"ts":1353677687380,"patch":[[{"diffs":[[0,"\n\t\t\t\t\t\t\t"],[1,"@"],[0,"sync()\t\r"]],"start1":1502,"start2":1502,"length1":16,"length2":17}]],"length":2291,"saved":false}
{"ts":1353677852953,"patch":[[{"diffs":[[0,"\"_id\" of doc"],[1," and doc._id.slice(0,8) != \"_design/\""],[0,"\r\n\t\telse if "]],"start1":1688,"start2":1688,"length1":24,"length2":61}]],"length":2328,"saved":false}
{"contributors":[],"silentsave":false,"ts":1353782620437,"patch":[[{"diffs":[[0,"@addData doc"],[1," if \"geometry\" of doc"],[0,"\r\n\t\t\t\t\t\telse"]],"start1":670,"start2":670,"length1":24,"length2":45},{"diffs":[[0,"oc._id\r\n"],[-1,"\r\n"],[1,"\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif \"geometry\" of doc\r\n\t"],[0,"\t\t\t\t\t\t\t@"]],"start1":826,"start2":826,"length1":18,"length2":55}]],"length":2386,"saved":false}
